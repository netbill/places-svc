openapi: 3.1.0
info:
  description: API for managing places and their classes.
  title: Place Service API
  version: 0.0.1
servers:
- url: /
paths:
  /test:
    post:
      description: Test
      responses:
        "201":
          description: successfully
      tags:
      - Test
components:
  schemas:
    CreatePlace:
      properties:
        data:
          $ref: "#/components/schemas/CreatePlace_data"
      required:
      - data
    UpdatePlace:
      properties:
        data:
          $ref: "#/components/schemas/UpdatePlace_data"
      required:
      - data
    UpdatePlaceClass:
      properties:
        data:
          $ref: "#/components/schemas/UpdatePlaceClass_data"
      required:
      - data
    UpdatePlaceStatus:
      properties:
        data:
          $ref: "#/components/schemas/UpdatePlaceStatus_data"
      required:
      - data
    UpdatePlaceVerify:
      properties:
        data:
          $ref: "#/components/schemas/UpdatePlaceVerify_data"
      required:
      - data
    CreatePlaceClass:
      properties:
        data:
          $ref: "#/components/schemas/CreatePlaceClass_data"
      required:
      - data
    DeprecatedPlaceClass:
      properties:
        data:
          $ref: "#/components/schemas/DeprecatedPlaceClass_data"
      required:
      - data
    DeleteUploadPlaceIcon:
      properties:
        data:
          $ref: "#/components/schemas/DeleteUploadPlaceIcon_data"
      required:
      - data
    DeleteUploadPlaceBanner:
      properties:
        data:
          $ref: "#/components/schemas/DeleteUploadPlaceBanner_data"
      required:
      - data
    DeleteUploadPlaceClassIcon:
      properties:
        data:
          $ref: "#/components/schemas/DeleteUploadPlaceClassIcon_data"
      required:
      - data
    PaginationData:
      properties:
        self:
          description: link to the current page
          format: uri
          type: string
        first:
          description: link to the first page
          format: uri
          type: string
        last:
          description: link to the last page
          format: uri
          type: string
        prev:
          description: link to the previous page
          format: uri
          type: string
        next:
          description: link to the next page
          format: uri
          type: string
      required:
      - self
    Place:
      properties:
        data:
          $ref: "#/components/schemas/Place_data"
        included:
          description: "Included related resources (e.g., organization)"
          items:
            $ref: "#/components/schemas/Place_included_inner"
          type: array
      required:
      - data
    PlacesCollection:
      properties:
        data:
          items:
            $ref: "#/components/schemas/Place/properties/data"
          type: array
        links:
          $ref: "#/components/schemas/PaginationData"
      required:
      - data
      - links
    PlaceClass:
      properties:
        data:
          $ref: "#/components/schemas/PlaceClassData"
        included:
          description: "Included related resources (e.g., organization)"
          items:
            $ref: "#/components/schemas/PlaceClassData"
          type: array
      required:
      - data
    PlaceClassData:
      properties:
        id:
          description: place ID
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
        attributes:
          $ref: "#/components/schemas/PlaceClassData_attributes"
        relationships:
          $ref: "#/components/schemas/PlaceClassData_relationships"
      required:
      - attributes
      - id
      - type
    PlaceClassesCollection:
      properties:
        data:
          items:
            $ref: "#/components/schemas/PlaceClassData"
          type: array
        links:
          $ref: "#/components/schemas/PaginationData"
      required:
      - data
      - links
    Organization:
      properties:
        data:
          $ref: "#/components/schemas/OrganizationData"
      required:
      - data
    OrganizationData:
      properties:
        id:
          description: organization ID
          format: uuid
          type: string
        type:
          enum:
          - organization
          type: string
        attributes:
          $ref: "#/components/schemas/OrganizationData_attributes"
      required:
      - attributes
      - id
      - type
    UploadPlaceClassMediaLinks:
      properties:
        data:
          $ref: "#/components/schemas/UploadPlaceClassMediaLinks_data"
        included:
          items:
            $ref: "#/components/schemas/PlaceClassData"
          type: array
      required:
      - data
      - included
    UploadPlaceMediaLinks:
      properties:
        data:
          $ref: "#/components/schemas/UploadPlaceMediaLinks_data"
        included:
          items:
            $ref: "#/components/schemas/Place/properties/data"
          type: array
      required:
      - data
      - included
    UploadResourcesLink:
      properties:
        key:
          description: Key for the avatar in the storage service
          type: string
        upload_url:
          description: Pre-signed URL for uploading the avatar
          format: uri
          type: string
        preload_url:
          description: URL for preloading the avatar after upload
          format: uri
          type: string
      required:
      - key
      - preload_url
      - upload_url
    point:
      properties:
        latitude:
          description: The latitude coordinate of the place
          format: float64
          type: number
        longitude:
          description: The longitude coordinate of the place
          format: float64
          type: number
      required:
      - latitude
      - longitude
    data:
      properties:
        id:
          description: place ID
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/Place_data_attributes"
        relationships:
          $ref: "#/components/schemas/Place_data_relationships"
      required:
      - attributes
      - id
      - relationships
      - type
    CreatePlace_data_attributes_point:
      properties:
        latitude:
          description: The latitude coordinate of the place
          format: float64
          type: number
        longitude:
          description: The longitude coordinate of the place
          format: float64
          type: number
      required:
      - latitude
      - longitude
    CreatePlace_data_attributes:
      properties:
        class_id:
          description: The ID of the class this place belongs to
          format: uuid
          type: string
        organization_id:
          description: The ID of the organization this place belongs to
          format: uuid
          type: string
        point:
          $ref: "#/components/schemas/CreatePlace_data_attributes_point"
        address:
          description: The physical address of the place
          type: string
        name:
          description: The name of the place
          type: string
        description:
          description: A brief description of the place
          type: string
        website:
          description: The website URL of the place
          format: uri
          type: string
        phone:
          description: The contact phone number of the place
          type: string
      required:
      - address
      - class_id
      - name
      - organization_id
      - point
    CreatePlace_data:
      properties:
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/CreatePlace_data_attributes"
      required:
      - attributes
      - type
    UpdatePlace_data_attributes:
      properties:
        class_id:
          description: "The class ID of the place (e.g., restaurant, park)"
          format: uuid
          type: string
        name:
          description: The name of the place
          type: string
        address:
          description: The address of the place
          type: string
        description:
          description: A brief description of the place
          type: string
        icon_key:
          description: The S3 key for the place's icon image
          type: string
        banner_key:
          description: The S3 key for the place's banner image
          type: string
        website:
          description: The website URL of the place
          type: string
        phone:
          description: The contact phone number of the place
          type: string
      required:
      - address
      - class_id
      - name
    UpdatePlace_data:
      properties:
        id:
          description: The unique identifier of the place
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/UpdatePlace_data_attributes"
      required:
      - attributes
      - id
      - type
    UpdatePlaceClass_data_attributes:
      properties:
        parent_id:
          description: "The ID of the parent class, if any"
          format: uuid
          type: string
        name:
          description: The name of the class
          type: string
        description:
          description: A brief description of the class
          type: string
        icon_key:
          description: The S3 key for the class icon
          type: string
      required:
      - description
      - name
    UpdatePlaceClass_data:
      properties:
        id:
          description: The unique identifier for the place class
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
        attributes:
          $ref: "#/components/schemas/UpdatePlaceClass_data_attributes"
      required:
      - attributes
      - id
      - type
    UpdatePlaceStatus_data_attributes:
      properties:
        status:
          description: The new status of the place
          type: string
      required:
      - status
    UpdatePlaceStatus_data:
      properties:
        id:
          description: The unique identifier of the place
          format: uuid
          type: string
        type:
          enum:
          - update_place
          type: string
        attributes:
          $ref: "#/components/schemas/UpdatePlaceStatus_data_attributes"
      required:
      - attributes
      - id
      - type
    UpdatePlaceVerify_data_attributes:
      properties:
        verify:
          description: The new verify status of the place
          type: boolean
      required:
      - verify
    UpdatePlaceVerify_data:
      properties:
        id:
          description: The unique identifier of the place
          format: uuid
          type: string
        type:
          enum:
          - update_place
          type: string
        attributes:
          $ref: "#/components/schemas/UpdatePlaceVerify_data_attributes"
      required:
      - attributes
      - id
      - type
    CreatePlaceClass_data_attributes:
      properties:
        parent_id:
          description: "The ID of the parent class, if any"
          format: uuid
          type: string
        name:
          description: The name of the class
          type: string
        description:
          description: A brief description of the class
          type: string
      required:
      - description
      - name
    CreatePlaceClass_data:
      properties:
        type:
          enum:
          - place_class
          type: string
        attributes:
          $ref: "#/components/schemas/CreatePlaceClass_data_attributes"
      required:
      - attributes
      - type
    DeprecatedPlaceClass_data_attributes:
      properties:
        deprecated:
          description: place class is deprecated?
          type: boolean
      required:
      - deprecated
    DeprecatedPlaceClass_data:
      properties:
        id:
          description: The unique identifier for the place class
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
        attributes:
          $ref: "#/components/schemas/DeprecatedPlaceClass_data_attributes"
      required:
      - attributes
      - id
      - type
    DeleteUploadPlaceIcon_data_attributes:
      properties:
        icon_key:
          description: icon media key
          type: string
      required:
      - icon_key
    DeleteUploadPlaceIcon_data:
      properties:
        id:
          description: place id
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/DeleteUploadPlaceIcon_data_attributes"
      required:
      - attributes
      - id
      - type
    DeleteUploadPlaceBanner_data_attributes:
      properties:
        banner_key:
          description: icon media key
          type: string
      required:
      - banner_key
    DeleteUploadPlaceBanner_data:
      properties:
        id:
          description: place id
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/DeleteUploadPlaceBanner_data_attributes"
      required:
      - attributes
      - id
      - type
    DeleteUploadPlaceClassIcon_data:
      properties:
        id:
          description: place class id
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
        attributes:
          $ref: "#/components/schemas/DeleteUploadPlaceIcon_data_attributes"
      required:
      - attributes
      - id
      - type
    Place_data_attributes:
      properties:
        status:
          description: "The status of the place (e.g., active, inactive)"
          type: string
        verified:
          description: Indicates if the place has been verified
          type: boolean
        point:
          $ref: "#/components/schemas/CreatePlace/properties/data/properties/attributes/properties/point"
        address:
          description: The physical address of the place
          type: string
        name:
          description: The name of the place
          type: string
        description:
          description: A brief description of the place
          type: string
        icon_key:
          description: A URL to an icon representing the place
          format: uri
          type: string
        banner_key:
          description: A URL to a banner image for the place
          format: uri
          type: string
        website:
          description: The website URL of the place
          format: uri
          type: string
        phone:
          description: The contact phone number of the place
          type: string
        version:
          description: "The version number of the place data, used for concurrency\
            \ control"
          type: integer
        created_at:
          description: The date and time when the place was created
          format: date-time
          type: string
        updated_at:
          description: The date and time when the place was last updated
          format: date-time
          type: string
      required:
      - address
      - created_at
      - name
      - point
      - status
      - updated_at
      - verified
      - version
    Place_data_relationships_organization:
      properties:
        id:
          description: The ID of the organization associated with the place
          format: uuid
          type: string
        type:
          enum:
          - organization
          type: string
      required:
      - id
      - type
    Place_data_relationships_place_class:
      properties:
        id:
          description: The ID of the class associated with the place
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
      required:
      - id
      - type
    Place_data_relationships:
      properties:
        organization:
          $ref: "#/components/schemas/Place_data_relationships_organization"
        place_class:
          $ref: "#/components/schemas/Place_data_relationships_place_class"
      required:
      - organization
      - place_class
    Place_data:
      properties:
        id:
          description: place ID
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
        attributes:
          $ref: "#/components/schemas/Place_data_attributes"
        relationships:
          $ref: "#/components/schemas/Place_data_relationships"
      required:
      - attributes
      - id
      - relationships
      - type
    Place_included_inner:
      oneOf:
      - $ref: "#/components/schemas/OrganizationData"
      - $ref: "#/components/schemas/PlaceClassData"
    PlaceClassData_attributes:
      properties:
        name:
          description: The name of the class
          type: string
        description:
          description: A brief description of the class
          type: string
        icon_key:
          description: A URL to an icon representing the class
          format: uri
          type: string
        version:
          description: "The version number of the class data, used for concurrency\
            \ control"
          type: integer
        created_at:
          description: The date and time when the class was created
          format: date-time
          type: string
        updated_at:
          description: The date and time when the class was last updated
          format: date-time
          type: string
        deprecated_at:
          description: "The date and time when the class was deprecated, if applicable"
          format: date-time
          type: string
      required:
      - created_at
      - description
      - name
      - updated_at
      - version
    PlaceClassData_relationships_parent:
      properties:
        id:
          description: The ID of the parent class
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
      required:
      - id
      - type
    PlaceClassData_relationships:
      properties:
        parent:
          $ref: "#/components/schemas/PlaceClassData_relationships_parent"
    OrganizationData_attributes:
      properties:
        status:
          description: The status of the organization
          type: string
        name:
          description: The name of the organization
          type: string
        icon_key:
          description: The media key for the organization's icon
          type: string
        banner_key:
          description: The media key for the organization's banner
          type: string
        version:
          description: "The version number of the organization, used for optimistic\
            \ concurrency control"
          type: integer
        created_at:
          description: The date and time when the organization was created
          format: date-time
          type: string
        updated_at:
          description: The date and time when the organization was last updated
          format: date-time
          type: string
      required:
      - created_at
      - name
      - status
      - updated_at
      - version
    UploadPlaceClassMediaLinks_data_attributes:
      properties:
        icon:
          $ref: "#/components/schemas/UploadResourcesLink"
      required:
      - banner
      - icon
    UploadPlaceClassMediaLinks_data_relationships_place_class_data:
      properties:
        id:
          description: place id
          format: uuid
          type: string
        type:
          enum:
          - place_class
          type: string
      required:
      - id
      - type
    UploadPlaceClassMediaLinks_data_relationships_place_class:
      properties:
        data:
          $ref: "#/components/schemas/UploadPlaceClassMediaLinks_data_relationships_place_class_data"
      required:
      - data
    UploadPlaceClassMediaLinks_data_relationships:
      properties:
        place_class:
          $ref: "#/components/schemas/UploadPlaceClassMediaLinks_data_relationships_place_class"
    UploadPlaceClassMediaLinks_data:
      properties:
        id:
          description: place class id
          format: uuid
          type: string
        type:
          enum:
          - place_class_upload_links
          type: string
        attributes:
          $ref: "#/components/schemas/UploadPlaceClassMediaLinks_data_attributes"
        relationships:
          $ref: "#/components/schemas/UploadPlaceClassMediaLinks_data_relationships"
      required:
      - attributes
      - id
      - relationships
      - type
    UploadPlaceMediaLinks_data_attributes:
      properties:
        icon:
          $ref: "#/components/schemas/UploadResourcesLink"
        banner:
          $ref: "#/components/schemas/UploadResourcesLink"
      required:
      - banner
      - icon
    UploadPlaceMediaLinks_data_relationships_place_data:
      properties:
        id:
          description: place id
          format: uuid
          type: string
        type:
          enum:
          - place
          type: string
      required:
      - id
      - type
    UploadPlaceMediaLinks_data_relationships_place:
      properties:
        data:
          $ref: "#/components/schemas/UploadPlaceMediaLinks_data_relationships_place_data"
      required:
      - data
    UploadPlaceMediaLinks_data_relationships:
      properties:
        place:
          $ref: "#/components/schemas/UploadPlaceMediaLinks_data_relationships_place"
    UploadPlaceMediaLinks_data:
      properties:
        id:
          description: place id
          format: uuid
          type: string
        type:
          enum:
          - place_upload_links
          type: string
        attributes:
          $ref: "#/components/schemas/UploadPlaceMediaLinks_data_attributes"
        relationships:
          $ref: "#/components/schemas/UploadPlaceMediaLinks_data_relationships"
      required:
      - attributes
      - id
      - relationships
      - type
